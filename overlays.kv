#:import Factory kivy.factory.Factory
#:include kv_templates.kv


<MenuButton>:
    text: "Menu"
    padding: dp(5), dp(5)
    size: self.texture_size
    on_release: self.toggle_box_drop()
    drop_box: 'shown'  # Valid strings are 'shown' and 'hidden' only.


<MenuDropBox>:
    do_scroll_x: False
    menu_drop_box: menu_drop_box
    default_width: 0  # Note! 'main_menu.py' @ line 16

    MyGrid:
        id: menu_drop_box

        canvas:

            Color:
                rgba: 0/255, 17/255, 51/255, 1

            Rectangle:
                pos: self.pos
                size: self.size

        MenuBoxButton:
            size_hint: None, 1
            text_size: None, self.height
            background_color: 0/255, 34/255, 102/255, 1
            text: "[b]Manage Ingredients"
            on_release: root.parent.manage_ingredients_panel.toggle_page()

        MenuBoxButton:
            size_hint: None, 1
            text_size: None, self.height
            background_color: 0/255, 34/255, 102/255, 1
            text: "[b]Application Info"
            on_release: root.parent.app_info_panel.toggle_page()


<SearchSuggestionsBox@ScrollView>:
    do_scroll_x: False
    suggestions_box: suggestions_box

    MyGrid:
        id: suggestions_box

        canvas:

            Color:
                rgba: 47/255, 47/255, 30/255, 1

            Rectangle:
                pos: self.pos
                size: self.size


<ConfirmAdd>:
    size_hint: 0.8, 0.6
    auto_dismiss: False
    title: 'Confirm Add'

    pop_up_labels: pop_up_labels

    ScrollView:

        canvas.before:
            Color:
                rgb: 48/255, 48/255, 48/255

            Rectangle:
                size: self.size
                pos: self.pos

        MyGrid:
            id: pop_up_labels
            cols: 1

            MyLabel:
                text_size: root.width, None
                text: '[b][size=26dp]Ingredient Entry'
                halign: 'center'
                padding: dp(20), dp(10)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Name: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Value: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Weight: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Obtained at: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Primary Effect: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Secondary Effect: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Tertiary Effect: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyLabel:
                text_size: root.width, None
                text: '[b][size=16dp][color=#E08C31]Quaternary Effect: [color=#31E0AC]'
                padding: dp(20), dp(3)

            MyGrid:
                cols: 2
                spacing: dp(30), dp(0)

                Button:
                    size_hint_y: None
                    height: dp(30)
                    markup: True
                    text: '[b][size=20dp]Cancel'
                    on_release: root.dismiss()
                    padding: dp(50), dp(10)

                Button:
                    size_hint_y: None
                    height: dp(30)
                    markup: True
                    text: '[b][size=20dp]Confirm'
                    on_release: print('Pressed Button "Confirm" Add Ingredient!')
                    padding: dp(50), dp(10)


<DebugButton@Button>:  # NOTE: For debugging purposes only!
    shown: False   # For hiding and showing the button.
    markup: True
    padding: 5, 12
    text: "[b][size=20dp]Debug Mode"
    on_release: import pdb; pdb.set_trace()
