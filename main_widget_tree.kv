#:kivy 2.0.0


<MyLabel>:  # Class for Name Value classes.
    padding: dp(5), dp(0)
    size: self.texture_size
    markup: True

    # The following lines are for the effects_panel.
    size_hing: 1, None
    text_size: self.size
    halign: 'left'


<NV_HP@GridLayout>:  # Name Value - Horizontal Pairs
    size_hint: 1, None
    height: self.minimum_height
    rows: 1

    name: name
    value: value

    MyLabel:
        id: name
        size_hint: None, 1
        text: "Item_Name:"
        text_size: None, self.height
        valign: 'top'

    MyLabel:
        id: value
        size_hint: 1, None
        text: "[Item description and/or other related information.]"
        text_size: self.width, None  # Auto aligns to left.


<NV_VP@GridLayout>:  # Name Value - Vertical Pairs
    size_hint: 1, None
    height: self.minimum_height
    cols: 1

    name: name
    value: value

    MyLabel:
        id: name
        size_hint: 1, None
        text: "Item_Name:"
        text_size: self.width, None
        halign: 'center'

    MyLabel:
        id: value
        size_hint: 1, None
        text: "[Item description and/or other related information.]"
        text_size: self.width, None
        halign: 'center'


<EffectsPanel@GridLayout>:
    cols: 2
    size_hint: 1, None
    height: self.minimum_height

    first: first
    second: second
    third: third
    fourth: fourth

    NV_VP:
        id: first

    NV_VP:
        id: second

    NV_VP:
        id: third

    NV_VP:
        id: fourth


<IngredientDetailsTab@GridLayout>:
    size_hint_y: None
    height: self.minimum_height
    cols: 1

    line1: line1
    line2: line2
    line3: line3
    effects: effects
    line4: line4

    NV_HP:
        id: line1

    NV_HP:
        id: line2

    NV_HP:
        id: line3

    EffectsPanel:
        id: effects

    NV_VP:
        id: line4


<MyGrid@GridLayout>:  # Class for ResutsTabPanel class.
    size_hint_y: None
    height: self.minimum_height
    row_default_height: dp(20)
    cols: 1


# https://stackoverflow.com/questions/50990697/python-kivy-tabbedpanel-setting-custom-tab-widths
<CustomWidthTab@TabbedPanelItem>:  # Class for dynamic tab width.
    width: self.texture_size[0]
    padding: dp(5), dp(2)
    size_hint_x: None
    markup: True


<ResultsTabPanel>:
    do_default_tab: False
    tab_width: None

    ingredient_details_panel: ingredient_details_panel
    first_effect_panel: first_effect_panel
    second_effect_panel: second_effect_panel
    third_effect_panel: third_effect_panel
    fourth_effect_panel: fourth_effect_panel
    
    CustomWidthTab:
        text: "[b]Ingredient\nDescription[/b]"

        ScrollView:
            do_scroll_x: False

            IngredientDetailsTab:
                id: ingredient_details_panel

    CustomWidthTab:
        id: first_effect_tab

        ScrollView:
            do_scroll_x: False

            MyGrid:
                id: first_effect_panel

    CustomWidthTab:
        id: second_effect_tab

        ScrollView:
            do_scroll_x: False

            MyGrid:
                id: second_effect_panel

    CustomWidthTab:
        id: third_effect_tab

        ScrollView:
            do_scroll_x: False

            MyGrid:
                id: third_effect_panel

    CustomWidthTab:
        id: fourth_effect_tab

        ScrollView:
            do_scroll_x: False

            MyGrid:
                id: fourth_effect_panel


<SearchBar>:
    rows: 1

    search_text_input: search_text_input

    # Add relative overlay for predictive word?
    TextInput:
        id: search_text_input
        size_hint: 0.7, 1
        hint_text: "Ingredient Name.."
        multiline: False
        focus: True
        on_text_validate: root.search()

    Button:
        size_hint: 0.3, 1
        text: "[b]Search[/b]"
        markup: True
        on_release: root.search()


<RootBackground>:
    cols: 1

    results_panel: results_panel
    serach_bar: search_bar

    Label:
        text: "[b]Skyrim Alchemy\nIngredients Library[/b]"
        markup: True
        halign: 'center'
        valign: 'center'
        size_hint: 1, None
        height: dp(60)

    SearchBar:
        id: search_bar
        size_hint: 1, None
        height: dp(30)

    ResultsTabPanel:
        id: results_panel

